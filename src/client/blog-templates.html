<template name="blogList">
      <section class="blog-list">
        {{#if isInRole 'mdblog-author'}}
            <button id="mdblog-new">New</button>
        {{/if}}
        {{#each this}}
            <section class="blog-post">
              {{#if isInRole 'mdblog-author'}}
                {{> blogControls }}
              {{/if}}
                <header>
                    <h2><a href="{{pathFor route='blogPost'}}">{{title}}</a></h2>
                      <span class="info">Posted by <span class="author">{{author}}</span>
                          <time>{{mdBlogDate date}}</time>
                      </span>
                </header>
                <summary>
                  {{{summary}}} <a href="{{pathFor route='blogPost'}}">Read more
                    <i class="fa fa-long-arrow-right"></i></a>
                </summary>
            </section>
        {{else}}
            Waiting for blog posts.
        {{/each}}
      </section>
</template>

<template name="blogControls">
    <section class="blog-controls">
      {{#if modified}}
          <button id="mdblog-save">Save</button>
      {{/if}}
      {{#unless published}}
          <button id="mdblog-publish">Publish</button>
      {{/unless}}
      {{#if published}}
          <button id="mdblog-unpublish">Unpublish</button>
      {{/if}}
      {{#unless archived}}
          <button id="mdblog-archive">Archive</button>
      {{/unless}}
      {{#if archived}}
          <button id="mdblog-unarchive">Unarchive</button>
      {{/if}}
        <button id="mdblog-delete">Delete</button>
    </section>
</template>

<template name="blogPost">
  {{#if blogPostReady}}
      <section class="blog-post">
          <header>
            {{#if isInRole 'mdblog-author'}}
              {{> blogControls }}
            {{/if}}
              <h1 id="title" {{contenteditable}}>{{{title}}}</h1>

              <h3 id="summary" {{contenteditable}}>{{{summary}}}</h3>
            <span class="info">Posted by
                <span id="author" class="author" {{contenteditable}}>{{{author}}}</span>
                <time id="date" {{contenteditable}}>{{mdBlogDate date}}</time>
            </span>
          </header>
          <article id="content" {{contenteditable}} data-markdown="true">
            {{{content}}}
          </article>
      </section>
      {{> shareit .}}
  {{else}}
    Loading...
  {{/if}}
</template>
